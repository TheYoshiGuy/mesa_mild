-Instructions :
-
-This is for archlinux, many distribution based on arch should work.
-Any distribution recent enough should work when building from source 
-This mesa requires a recent libdrm and a recent kernel
-If you know how to build mesa from git go directly to B

A) Building mesa in an assisted way

First as it's a bleeding edge version, you can experience problems with either amdgpu or radeon kernel driver

It's always boring to switch in between if it bores you too, you can configure X to start with modesetting driver (nothing to install)
Like this (this is an example, not suitable to you !!):

Section "Device"
   Identifier "gfx0"
   Driver "modesetting"
   #Driver "radeon" # commented out
   #Driver "amdgpu" #Â commented out
   Option "DRI" "3"
EndSection

You can then at boot select directly by issuing kernel parameter modprobe.blacklist=<radeon> or  <amdgpu> (provided you're not configuring this somewhere else like in /etc)



-0) Note something first : "If something is broken or computer fails to boot, start the kernel with < modprobe.blacklist=amdgpu,radeon > and reinstall mesa (preferably from mesa-git)

-1) Add this repository in /etc/pacman.conf BEFORE the others repositories so you can grab lattest LLVM, kernel and libdrm
-[mesa-git]
-Server = http://pkgbuild.com/~lcarlier/$repo/$arch
-SigLevel = Never

-2) A script called buildmesa.sh is available here to simplify the process, there is only one configuration option called flavor (by default there's only AMD's gpu support )

WARNING : As a matter of habit, you must never download a script and/or execute it simply because you're told to.

Download the script (in raw), check the script content, it's useless to clone repository just to grab it, believe me, you'll be cloning more than enough.

Now if the content doesn't seems to be harmful, execute it.

-3) Once build was completed, you'll end up with packages
- this script doesn't install mesa it builds it and  tells you how to do it (but as a matter of fact some packages (libclc and llvm*) will be updated and *this* could break something) 

-4) You need to prevent pacman to erase mesa and its dependencies or you'll endup building it again if some dependencies are updated 
-
-in /etc/pacman.conf add where it fits :
-IgnoreGroup = mesagit

B) If everything goes well you have now a mesa with four new options of configuration available.
-
-Select these options (for your graphic card) using "driconf" 
-
-"performance"
-    disable "Enable offloading GL driver work to a separate thread"
-"debug"
-    enable "Force GLSL extension default behaviour to warn"
-    enable "Always allow glGetString(GL_EXTENSIONS)"
-    enable "Allow more type of primitives in glDrawArray"
-    enable "Special handling of mesa_uniform when location = -1"
-    enable "Bypass some validation related to VBO when using core profile"
-    
-
-Save or close application and it's best if you reboot now.
-
-To launch CEMU (if installed for instance in /cemu/cemu1.8.0)
-Open a terminal
-# cd /cemu/cemu1.8.0
-# MESA_GL_VERSION_OVERRIDE=4.5 wine64 Cemu.exe
-
-- Check MESA_NO_ERROR is not set (unless you stick to a stable 17.1) 
-
